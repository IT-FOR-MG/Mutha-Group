package com.muthagroup.controller;

import java.io.IOException; 
import java.text.SimpleDateFormat;
import java.util.Date; 
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse; 

public class Get_CastingStock_MSController extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doPost(HttpServletRequest request,
			HttpServletResponse response) throws ServletException, IOException {
		try {
			String company = "";
			company = request.getParameter("company");
			// *************************************************************************************************************
			SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd"); 
			Date convertedfromDate = formatter.parse(request.getParameter("fromdate"));
			String fromDate = formatter.format(convertedfromDate);
			Date convertedtoDate = formatter.parse(request.getParameter("todate"));
			String toDate = formatter.format(convertedtoDate);
			// *************************************************************************************************************

			String from = fromDate.replaceAll("[-+.^:,]", "");
			String to = toDate.replaceAll("[-+.^:,]", "");
			
			// *************************************************************************************************************
			
			// *************************************************************************************************************
			  
			if (company != "" && from != "" && to != "") {
				if (company.equalsIgnoreCase("101")) {
					response.sendRedirect("Casting_Stock_MacShop.jsp?comp="+ company + "&from=" + from + "&to=" + to);
				}
				if (company.equalsIgnoreCase("102")) {
					response.sendRedirect("Casting_Stock_MacShop.jsp?comp="+ company + "&from=" + from + "&to=" + to);
				}
			}
			// Example : exec "H25ERP"."dbo"."Sel_MatStockStatementKranti";1 '102', '0','101030024510103002441010300345101030024310103002861010300267101030026810103000391010300040101030019410103003571010300343101030030210103003441010300221101030004210103000431010300083101030029810103002921010300171101030021510103001531010300044101030031610103003311010300045101030004610103000471010300141101030004810103001421010300049101030014310103000501010300086101030008710103000511010300330101030015510103000881010300052101030026510103000891010300090101030026910103000561010300054101030005310103000551010300091101030030810103000571010300058101030025110103002291010300231101030030910103002471010300314101030031010103000591010300340101030030310103003051010300258101030025910103000601010300140101030006110103001671010300062101030006310103000811010300082101030026410103003231010300270101030027110103002481010300293101030029410103002381010300239101030034210103003411010300299101030030010103002971010300097101030009910103001641010300100101030010110103001041010300105101030010210103001031010300106101030010710103001081010300185101030006610103000671010300284101030016210103002261010300214101030004110103001391010300169101030019610103001951010300285101030031110103002341010300233101030023210103003221010300219101030029610103001981010300200101030019910103002011010300068101030027210103003121010300273101030032810103002741010300275101030015210103002761010300277101030027810103002791010300280101030028110103001091010300179101030006910103002371010300333101030017310103001741010300070101030018010103003491010300222101030022010103002621010300321101030035510103003351010300071101030007210103001111010300353101030035210103003501010300073101030035110103003481010300207101030022510103003181010300319101030032010103001511010300150101030011210103001131010300114101030012110103001221010300177101030011510103001171010300118101030023610103003381010300337101030033610103002231010300242101030012410103001271010300128101030012910103001301010300241101030018810103001321010300131101030030610103003041010300197101030023510103002901010300133101030013510103001361010300295101030032510103002891010300283101030024610103002871010300288101030016310103002051010300317101030030110103001681010300326101030032910103003151010300291101030033910103000741010300307101030022410103002131010300208101030020910103000761010300182101030018310103000771010300078101030007910103002301010300228101030025010103000751010300170101030008010103002631010300261101030008410103000921010300085101030006410103000651010300093101030009410103000951010300096101030014910103000981010300110101030012010103001161010300123101030011910103001251010300126101030016610103001341010300282','20141101', '20141116'
			
		} catch (Exception e) {
			e.printStackTrace();
			e.getMessage();
		}
	}

}
